buildscript {

    ext {
        es_version = System.getProperty("es.version", "6.5.5")
    }
    // This isn't applying from repositories.gradle so repeating it here
    repositories {
        mavenCentral()
        maven { 
           name = "internal-snapshots"
            url = "s3://open-es/snapshots"
            authentication {
               awsIm(AwsImAuthentication) // load from EC2 role or env var
            }
        }
        maven {
           name = "internal-releases"
           url = "s3://open-es/releases"
           authentication {
               awsIm(AwsImAuthentication) // load from EC2 role or env var
            }
    }
    } 

    dependencies {
        classpath "org.openes.gradle:build-tools:${es_version}"
    }
}

plugins {
    // Apply the java-library plugin to add support for Java Library
    id 'java-library'
}

subprojects {
    group = "org.openes.plugin"
    version = "${version}"
    project.ext.localPublishPath = "${rootProject.buildDir}"

}

test {
    enabled = false
}

